@*
SPDX-License-Identifier: Apache-2.0
Licensed to the Ed-Fi Alliance under one or more agreements.
The Ed-Fi Alliance licenses this file to you under the Apache License, Version 2.0.
See the LICENSE and NOTICES files in the project root for more information.
*@

@using EdFi.Ods.AdminApp.Web.Helpers
@using EdFi.Ods.AdminApp.Web.Infrastructure
@using EdFi.Ods.AdminApp.Web.Models.ViewModels.OdsInstanceSettings
@model BaseOdsInstanceSettingsModel

@{
    ViewBag.Title = "Settings";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="row">
    @if (CloudOdsAdminAppSettings.Instance.Mode.SupportsMultipleInstances)
    {
        <div class="col-xs-6">
            <h2 title="@(Model.OdsInstance?.Name)">
                @(Model.OdsInstance?.Description)
                <small>
                    @if (@Model.OdsInstance?.SchoolYearDescription != null)
                    {
                        @Model.OdsInstance?.SchoolYearDescription
                    }
                    else
                    {
                        @:Configure School Year
                    }
                    <a class="loads-ajax-modal" data-url="@Url.Action("Edit", "SchoolYears", new{instanceName=Model.OdsInstance?.Name})"> <span class="fa fa-pencil action-icons"></span></a>
                </small>
            </h2>
        </div>
        <div class="col-xs-3 col-xs-offset-3">
            @Html.Button("Back to ODS Instances").AddClass("back-btn back-ajax").Data("back-url", Url.Action("Index", "OdsInstances"))
        </div>
    }
    else
    {
        <div class="col-xs-6">
            <h2>
                @if (@Model.OdsInstance?.SchoolYearDescription != null)
                {
                    @:School Year @Model.OdsInstance?.SchoolYearDescription
                }
                else
                {
                    @:Configure School Year
                }
                <a class="loads-ajax-modal" data-url="@Url.Action("Edit", "SchoolYears", new{instanceName=Model.OdsInstance?.Name})"> <span class="fa fa-pencil action-icons"></span></a>
            </h2>
        </div>
    }
</div>

<div class="row">
    <div class="col-xs-12">
        <div class="tab-content" id="settings-tabs">
            <div class="tab-pane active" id="production-tab">
                @RenderBody()
            </div>
        </div>
    </div>
</div>

<div class="row">
    <p class="text-right application-version col-lg-12 margin-top-10">@Html.OdsApiVersion()</p>
</div>

<script type="text/javascript">
    $(function () {
        InitializeBackNavigationalAjaxButtons();
    });
</script>
